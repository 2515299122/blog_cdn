function jbox_alert(a,c){var b=$(window).height()-($(".end_block").offset().top-$(window).scrollTop())+8;new jBox("Notice",{animation:"flip",color:a,content:c,position:{x:"center",y:"bottom"},offset:{y:-b},stackSpacing:b,delayOnHover:!0,showCountdown:!0})}function getCookie(a){var c;return(c=document.cookie.match(new RegExp("(^| )"+a+"\x3d([^;]*)(;|$)")))?unescape(c[2]):null}function deleteCookie(a,c,b){document.cookie=a+"\x3d; expires\x3dThu, 01 Jan 1970 00:00:00 UTC; domain\x3d"+c+"; path\x3d"+b}function fanyi_choose(){"t"==getCookie("zh_choose")?(zh_tran("t"),$(".fanyi_t").hide(),$(".fanyi_s").show()):(zh_tran("s"),$(".fanyi_t").show(),$(".fanyi_s").hide())}function cat_pagination_all(){if(0<$(".cat_pagination_all .next").length){var a=$(".cat_pagination_all .next").attr("href");$(".cat_pagination_all").html("\x3cspan class\x3d'next' href\x3d'"+a+"'\x3e\x3ci class\x3d'ri-arrow-down-line'\x3e\x3c/i\x3e\x3c/span\x3e")}else $(".cat_pagination_all").html('\x3cspan style\x3d"font-size: small;color: var(--colorB);padding: 0.5rem;"\x3e\u5df2\u5168\u90e8\u52a0\u8f7d\x3c/span\x3e')}function swiper_default(a){0!==$(".swiper_default").length&&function(a){a.forEach(function(a){new Swiper(a,{keyboard:!1,direction:"horizontal",loop:!0,autoplay:{delay:3E3,disableOnInteraction:!1},mousewheel:!1,pagination:{el:".swiper-pagination"}})})}(a)}swiper_item=function(){0!==$(".swiper_default").length&&new Swiper(".swiper_default",{keyboard:!1,direction:"horizontal",loop:!0,autoplay:{delay:3E3,disableOnInteraction:!1},mousewheel:!1,pagination:{el:".swiper-pagination"}});0!==$(".swiper_index_left").length&&new Swiper(".swiper_index_left",{keyboard:!1,direction:"horizontal",loop:!0,autoplay:{delay:6E3,disableOnInteraction:!1},mousewheel:!1,paginationClickable:!0,pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(a,c){return'\x3cspan class\x3d"'+c+'"\x3e'+(a+1)+"\x3c/span\x3e"}}});0!==$(".swiper_index_right").length&&new Swiper(".swiper_index_right",{keyboard:!1,direction:"vertical",slidesPerView:3,spaceBetween:16,loop:!0,lazy:{loadPrevNext:!0},autoplay:{delay:3E3,disableOnInteraction:!1},mousewheel:!0});0!==$(".swiper_index_B").length&&new Swiper(".swiper_index_B",{keyboard:!1,direction:"vertical",slidesPerView:4,spaceBetween:8,loop:!0,autoplay:!1,mousewheel:!0});0!==$(".swiper_index_D").length&&new Swiper(".swiper_index_D",{keyboard:!1,direction:"horizontal",loop:!1,autoplay:{delay:3E3,disableOnInteraction:!1},mousewheel:!1,slidesPerView:"auto"});if(0!==$(".swiper_index_top").length){var a=new Swiper(".swiper_index_top",{keyboard:!1,direction:"horizontal",loop:!0,autoplay:{delay:7E3,disableOnInteraction:!0},mousewheel:!1});$(".swiper_index_top").hover(function(){a.autoplay.stop()},function(){a.autoplay.start()})}if(0!==$(".swiper_index_announcement").length){var c=new Swiper(".swiper_index_announcement",{keyboard:!1,direction:"vertical",loop:!0,lazy:{loadPrevNext:!0},autoplay:{delay:2500,disableOnInteraction:!0},mousewheel:!1});$(".swiper_index_announcement").hover(function(){c.autoplay.stop()},function(){c.autoplay.start()})}0!==$(".swiper_post_title").length&&new Swiper(".swiper_post_title",{autoplay:{delay:2500,disableOnInteraction:!1},keyboard:!1,direction:"horizontal",loop:!0,mousewheel:!1});0!==$(".swiper_category_tab").length&&new Swiper(".swiper_category_tab",{keyboard:!1,direction:"horizontal",loop:!1,autoplay:!1,mousewheel:!1,slidesPerView:"auto"})};var timeout=!1,p=0,t=0;$(window).scroll(function(){timeout&&clearTimeout(timeout);timeout=setTimeout(function(){p=$(this).scrollTop();0<p-t?$(".left_menu").slideUp(100,function(){$(".left_bread").slideDown(100).css("display","flex")}):$(".left_bread").slideUp(100,function(){$(".left_menu").slideDown(100).css("display","flex")});t=p;0<$("#comments").length&&$("#comments").offset().top>$(document).scrollTop()+400?($(".document_part .logo").html('\x3ci class\x3d"ri-article-line"\x3e\x3c/i\x3e'),$(".document_part .word").html("\u6b63\u6587"),$(".post_comments_part").slideUp(100,function(){$(".post_article_part").slideDown(100).css("display","flex")})):($(".document_part .logo").html('\x3ci class\x3d"ri-message-3-line"\x3e\x3c/i\x3e'),$(".document_part .word").html("\u8bc4\u8bba"),$(".post_article_part").slideUp(100,function(){$(".post_comments_part").slideDown(100).css("display","flex")}))},100)});function aside_last_part_px(){var a;a=0==$(".cat_mainmenu_out").height()?16*parseFloat($("html").css("--margin")):$(".cat_mainmenu_out").offset().top-$(window).scrollTop()+$(".cat_mainmenu_out").height()+16*parseFloat($("html").css("--margin"));$("aside section:last-child").css("top",a+"px")}$(".main").on("click",".cat_archive_next .next",function(){$this=$(this);$this.addClass("loading").html("\x3ci class\x3d'ri-loader-2-line'\x3e\x3c/i\x3e");var a=$this.attr("href");void 0!=a&&($(".postlist_grid").append($(".postlist_grid .item.bone")),$(".postlist_grid .item.bone").show(),0==$(".cat_mainmenu_out").height()?$("html,body").animate({scrollTop:$(".postlist_grid .item.bone").offset().top-16*parseFloat($("html").css("--margin"))},300):$("html,body").animate({scrollTop:$(".postlist_grid .item.bone").offset().top-($(".cat_mainmenu_out").offset().top-$(window).scrollTop()+$(".cat_mainmenu_out").height()+16*parseFloat($("html").css("--margin")))},300),$.ajax({url:a,type:"get",error:function(a){},success:function(a){$this.removeClass("loading").html("\x3ci class\x3d'ri-arrow-down-line'\x3e\x3c/i\x3e");$(".postlist_grid .item.bone").hide();var b=$(a).find(".postlist_grid .item:not(.bone)");$(".postlist_grid").append(b.fadeIn(500));var b=$(a).find(".cat_archive_next .next").attr("href"),c=$(a).find(".cat_pagination_page .next a").attr("href");void 0!=b?$(".cat_archive_next .next").attr("href",b):void 0!=c?$(".cat_archive_next .next").attr("href",c):($(".cat_archive_next").append("\x3cspan style\x3d'font-size: small;color: var(--colorB);padding: 0.5rem;'\x3e\u5df2\u5168\u90e8\u52a0\u8f7d\x3c/span\x3e"),$(".cat_archive_next .next").remove());fanyi_choose();b=[];b.push('[swiper_id*\x3d"'+$(a).find(".postlist_grid .swiper_default").attr("swiper_id")+'"]');swiper_default(b);$("div[id*\x3djBox]").hide();pjax.refresh();cat_user_pjax_callback()}}));return!1});$(".main").on("click",".category_tab .category_category_tab",function(){$this=$(this);$saveicon=$this.children("i").attr("class");$this.children("i").attr("class","ri-loader-2-line");$(".postlist_grid .item.bone").show();$(".postlist_grid .item:not(.bone)").hide();var a=$this.attr("href");$.ajax({url:a,type:"get",error:function(a){$(".postlist_grid .item.bone").hide();$(".postlist_grid .item:not(.bone)").show()},success:function(c){$this.children("i").attr("class",$saveicon);$(".postlist_grid .item.bone").hide();$(".postlist_grid .item:not(.bone)").remove();var b=c.match("\x3ctitle\x3e(.*?)\x3c/title\x3e")[1];$("title").text(b);history.pushState({},"",a);$(".category_tab .category_child").removeClass("anniu_on").removeClass("anniu_on_event");$this.addClass("anniu_on").addClass("anniu_on_event");b=$(c).find(".category_title_block");$(".category_title_block").html($(b).html());b=$(c).find(".postlist_grid").attr("class");$(".postlist_grid").attr("class",b);0==$(".cat_mainmenu_out").height()?$("html,body").animate({scrollTop:$(".category_tab").offset().top-16*parseFloat($("html").css("--margin"))},300):$("html,body").animate({scrollTop:$(".category_tab").offset().top-($(".cat_mainmenu_out").offset().top-$(window).scrollTop()+$(".cat_mainmenu_out").height()+16*parseFloat($("html").css("--margin")))},300);b=$(c).find(".postlist_grid .item:not(.bone)");$(".postlist_grid").append(b.fadeIn(500));fanyi_choose();var b=$(c).find(".cat_pagination_page"),e=$(c).find(".cat_pagination_all .next");0<b.length?$(".cat_pagination_page").html($(b).html()):0<e.length?(b=e.attr("href"),$(".cat_pagination_all").html("\x3cspan class\x3d'next' href\x3d'"+b+"'\x3e\x3ci class\x3d'ri-arrow-down-line'\x3e\x3c/i\x3e\x3c/span\x3e")):($(".cat_pagination_page").html('\x3cspan style\x3d"font-size: small;color: var(--colorB);padding: 0.5rem;"\x3e\u5df2\u5168\u90e8\u52a0\u8f7d\x3c/span\x3e'),$(".cat_pagination_all").html('\x3cspan style\x3d"font-size: small;color: var(--colorB);padding: 0.5rem;"\x3e\u5df2\u5168\u90e8\u52a0\u8f7d\x3c/span\x3e'));b=[];b.push('[swiper_id*\x3d"'+$(c).find(".postlist_grid .swiper_default").attr("swiper_id")+'"]');swiper_default(b);$("div[id*\x3djBox]").hide();pjax.refresh();cat_user_pjax_callback()}});return!1});$(".main").on("click",".category_tab .index_category_tab",function(){$this=$(this);$saveicon=$this.children("i").attr("class");$this.children("i").attr("class","ri-loader-2-line");$(".postlist_grid .item.bone").show();0==$(".cat_mainmenu_out").height()?$("html,body").animate({scrollTop:$(".category_tab").offset().top-16*parseFloat($("html").css("--margin"))},300):$("html,body").animate({scrollTop:$(".category_tab").offset().top-($(".cat_mainmenu_out").offset().top-$(window).scrollTop()+$(".cat_mainmenu_out").height()+16*parseFloat($("html").css("--margin")))},300);$(".postlist_grid .item:not(.bone)").hide();var a=$this.attr("href");void 0!=a&&$.ajax({url:a,type:"get",error:function(a){$(".postlist_grid .item.bone").hide();$(".postlist_grid .item:not(.bone)").show()},success:function(a){$this.children("i").attr("class",$saveicon);$(".postlist_grid .item.bone").hide();$(".postlist_grid .item:not(.bone)").remove();$(".category_tab .category_child").removeClass("anniu_on").removeClass("anniu_on_event");$this.addClass("anniu_on").addClass("anniu_on_event");var b=$(a).find(".postlist_grid .item:not(.bone)");$(".postlist_grid").append(b.fadeIn(500));var b=$(a).find(".cat_pagination_page .next a"),c=$(a).find(".cat_pagination_all .next");0<b.length?(b=b.attr("href"),$(".cat_pagination_all").html("\x3cspan class\x3d'next' href\x3d'"+b+"'\x3e\x3ci class\x3d'ri-arrow-down-line'\x3e\x3c/i\x3e\x3c/span\x3e")):0<c.length?(b=c.attr("href"),$(".cat_pagination_all").html("\x3cspan class\x3d'next' href\x3d'"+b+"'\x3e\x3ci class\x3d'ri-arrow-down-line'\x3e\x3c/i\x3e\x3c/span\x3e")):$(".cat_pagination_all").html('\x3cspan style\x3d"font-size: small;color: var(--colorB);padding: 0.5rem;"\x3e\u5df2\u5168\u90e8\u52a0\u8f7d\x3c/span\x3e');fanyi_choose();b=[];b.push('[swiper_id*\x3d"'+$(a).find(".postlist_grid .swiper_default").attr("swiper_id")+'"]');swiper_default(b);$("div[id*\x3djBox]").hide();pjax.refresh();cat_user_pjax_callback()}});return!1});$(".main").on("mouseenter",".cat_pic_post_B .postlist",function(){var a=$(this).attr("img_url");$(".cat_pic_post_B .right img").fadeOut(500,function(){$(this).attr("src",a).bind("onreadystatechange load",function(){this.complete&&$(this).fadeIn(500)})})});$(document).on("click",".cat_topimg",function(){$(".cat_topimg").css("top","-100vh");$("body").css("overflow-y","scroll")});$(document).on("keydown",function(a){32===a.keyCode&&"0px"==$(".cat_topimg").css("top")&&(a.preventDefault(),$(".cat_topimg").css("top","-100vh"),$("body").css("overflow-y","scroll"))});$(document).on("click",".OpenWelcome",function(){$(".cat_topimg").css("top","0");$("body").css("overflow-y","hidden")});$(document).on("click","#aside_mood_card span",function(){var a=$(this).text();jbox_alert("blue","\u6b63\u5728\u66f4\u6362\u4e3a\u65b0\u7684\u72b6\u6001");$("#cat_tanchuang_off").click();$.ajax({url:CAT.BASE_API,type:"POST",data:{routeType:"cat_mood",mood:a},dataType:"text",success:function(){jbox_alert("green",a+" \u72b6\u6001\u8bbe\u5b9a\u6210\u529f");$(".my_mood").text(a)},error:function(){jbox_alert("red","\u72b6\u6001\u8bbe\u5b9a\u5931\u8d25\uff01")}})});$(document).on("click",".emoji_diy_ok",function(){var a=$(this).siblings(".emoji_diy").val();120<a.length?jbox_alert("red","\u5185\u5bb9\u8fc7\u957f\uff0c\u8bf7\u4f7f\u7528emoji\u6216\u8005\u77ed\u4ee3\u7801"):(jbox_alert("blue","\u6b63\u5728\u66f4\u6362\u4e3a\u65b0\u7684\u72b6\u6001"),$("#cat_tanchuang_off").click(),$.ajax({url:CAT.BASE_API,type:"POST",data:{routeType:"cat_mood",mood:a},dataType:"text",success:function(){jbox_alert("green",a+" \u72b6\u6001\u8bbe\u5b9a\u6210\u529f");$(".my_mood").html(a)},error:function(){jbox_alert("red","\u72b6\u6001\u8bbe\u5b9a\u5931\u8d25\uff01")}}))});$(document).on("click",".cat_index_section_qian .qian",function(){var a=$("#cat_remembered_logined_username").html(),c=$("#cat_remembered_logined_usermail").html(),b=$(".cat_index_section_qian .number .num").text(),e=parseInt(b)+1;a&&c?(jbox_alert("blue","\u6b63\u5728\u6c42\u7b7e\u4e2d..."),$.ajax({url:CAT.BASE_API,type:"POST",data:{routeType:"website_like",likename:a,likemail:c},dataType:"text",success:function(){var a=Math.floor(8*Math.random()),b=new Date;b.setDate(b.getDate()+1);b.setHours(8);b.setMinutes(0);b.setSeconds(0);document.cookie="chouqian\x3d"+a+";path\x3d/;expires\x3d"+b.toGMTString();b="\u5927\u51f6 \u51f6 \u672b\u5409 \u5409 \u5c0f\u5409 \u4e2d\u5409 \u5927\u5409 \u5927\u5927\u5409".split(" ");jbox_alert("green","\u6c42\u7b7e\u6210\u529f\uff1a"+b[a]);$(".qian").hide();$(".qianed").show();$(".qianed").html(b[a]);$(".cat_index_section_qian .number .num").text(e)},error:function(){jbox_alert("red","\u6c42\u7b7e\u5931\u8d25\uff01")}})):$(".Login_anniu ").click()});$(document).on("click",".cat_index_section_qian .qianed",function(){jbox_alert("blue","\u4eca\u5929\u5df2\u7b7e\u5230\uff0c\u660e\u5929\u518d\u6765\u5427\uff01")});$(document).on("click",".cat_index_section_qian .top .left .more",function(){var a=$(this).closest(".cat_index_section_qian").find(".bottom");a.is(":visible")?a.slideUp():a.slideDown().css("display","flex")});$(window).scroll(function(){var a=Math.round((document.documentElement.scrollTop||window.pageYOffset)/(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-document.documentElement.clientHeight)*100);0==a&&(a="");0<=a&&10>=a?($(".percentage").hide(),$(".login_user_avatar").show()):($(".percentage").show().css("display","flex"),$(".login_user_avatar").hide());$(".percentage .num").text(a)});$("body").on("click",".percentage",function(){window.scrollTo({top:0,behavior:"smooth"})});$("#cat_fullscreen").unbind("click");$(document).on("click","#cat_fullscreen",function(){if(document.fullscreenElement)$("#cat_fullscreen .anniu").removeClass("anniu_on"),$("#cat_fullscreen #cat_fullscreen_off").hide(),$("#cat_fullscreen #cat_fullscreen_on").show(),document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen();else{var a=document.documentElement;$("#cat_fullscreen .anniu").addClass("anniu_on");$("#cat_fullscreen #cat_fullscreen_on").hide();$("#cat_fullscreen #cat_fullscreen_off").show();a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen()}});$(document).on("click",".ToHideSidebar",function(){$(".main_screen").hasClass("hidesidebar")?($(".main_screen").removeClass("hidesidebar"),$(".main_sidebar").css("width","25rem"),$(".main_sidebar").css("margin-left","var(--margin)"),$(".main_sidebar").show(),$(".main_sidebar").css("visibility","visible"),$(".ToHideSidebar").removeClass("anniu_on"),$(".main_sidebar").css("opacity","1"),$(".main_sidebar").css("transform","translate(0%, 0%)")):($(".main_sidebar").css("visibility","hidden"),$(".ToHideSidebar").addClass("anniu_on"),$(".main_sidebar").css("opacity","0"),$(".main_sidebar").css("transform","translate(150%, 0%)"),setTimeout(function(){$(".main_screen").addClass("hidesidebar");$(".main_sidebar").css("width","0");$(".main_sidebar").css("margin-left","0")},250))});$(document).on("click",".fanyi_t",function(){zh_tran("t");$(this).hide();$(".fanyi_s").show()});$(document).on("click",".fanyi_s",function(){zh_tran("s");$(this).hide();$(".fanyi_t").show()});$(document).on("click",".mobile_left",function(){$("#cat_tanchuang_off").show();$(".cat_mobilemenu_left").addClass("cat_tanchuang_on")});$(document).on("click",".Login_anniu",function(){$("#cat_tanchuang_off").show();$("#login_cute_card").addClass("cat_tanchuang_on");if(0===$("#login_cute_card .left").children().length){var a=$(".cat_topimg .medias").html();$("#login_cute_card .left").html(a)}});$(document).on("click",".Admin_anniu",function(){$("#cat_tanchuang_off").show();$("#admin_cute_card").addClass("cat_tanchuang_on")});$(document).on("click",".open_douban_card",function(){$("#cat_tanchuang_off").show();$("#douban_out_card").addClass("cat_tanchuang_on");var a=$(this).attr("type"),c=$(this).attr("appid");$.getJSON("/mylife/douban/"+a+"_"+c+".json",function(b){"game"==a?($("#douban_out_card .title").text(b.result.name),$("#douban_out_card .desc").html(b.result.about_the_game)):($("#douban_out_card .title").text(b.title),$("#douban_out_card .desc").html(b.intro.replace(/\n/g,"\x3cbr\x3e")))}).fail(function(a,c,f){console.error("Error reading JSON file:",f)});$("#douban_out_card .img img").attr("src","/mylife/douban/"+a+"_"+c+".jpg");$("#douban_out_card .tip b").text("game"==a?"\u5c0f\u9ed1\u76d2":"\u8c46\u74e3")});$(document).on("click",".cat_announcement .part .part_right .text.yiyan",function(){$("#cat_tanchuang_off").show();$("#yiyan_card").addClass("cat_tanchuang_on");$("#yiyan_card .desc").text($(this).text())});$(document).on("click",".open_search_card",function(){$("#cat_tanchuang_off").show();$("#search_card").addClass("cat_tanchuang_on")});$(document).on("click",".delete_diary",function(){$("#cat_tanchuang_off").show();$("#del_card").addClass("cat_tanchuang_on");var a=$(this).attr("url"),c=$(this).attr("coid");$("#del_card .yes").attr("url",a);$("#del_card .yes").attr("coid",c)});$(document).on("click",".my_mood",function(){0<$("#aside_mood_card").length?($("#cat_tanchuang_off").click(),$("#cat_tanchuang_off").show(),$("#aside_mood_card").addClass("cat_tanchuang_on")):jbox_alert("blue","\u535a\u4e3b\u7684\u72b6\u6001"+$(this).text())});$(document).on("click",".do_login_in",function(){jbox_alert("blue","\u767b\u5f55\u4e2d...");var a=$.md5(window.location.href.replace(/\/$/,""))+"__typecho_notice_type",c=$.md5(window.location.href.replace(/\/$/,""))+"__typecho_notice";deleteCookie(a,"."+document.domain,"/");deleteCookie(c,"."+document.domain,"/");var b={name:$('input[name\x3d"name"]').val(),password:$('input[name\x3d"password"]').val(),remember:$('input[name\x3d"remember"]').is(":checked")?1:0,referer:$('input[name\x3d"referer"]').val()};$.ajax({url:$(".Login_in").attr("action"),type:"POST",data:b,dataType:"html",success:function(b){a=$.md5(window.location.href.replace(/\/$/,""))+"__typecho_notice_type";c=$.md5(window.location.href.replace(/\/$/,""))+"__typecho_notice";"error"==getCookie(a)?jbox_alert("red",JSON.parse(getCookie(c))[0]):document.cookie.includes("PHPSESSID")?(jbox_alert("green","\u767b\u5f55\u6210\u529f"),pjax.loadUrl(window.location.href),$("#cat_tanchuang_off").click()):jbox_alert("red","\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u91cd\u8bd5")},error:function(a,b,c){jbox_alert("red","\u767b\u5f55\u51fa\u9519\uff0c\u8bf7\u4f7f\u7528\u540e\u53f0\u767b\u5f55");console.log(c)}})});$(document).on("click","#cat_tanchuang_off,.cat_tanchuang_close,.cat_tanchuang a,.cat_tanchuang button,#del_card .yes",function(){$("#cat_tanchuang_off").hide();$(".cat_tanchuang").removeClass("cat_tanchuang_on");$(".menu_position").after($("#post_menu"))});$(document).on("click",".changeicon_user",function(){$(".cat_login_user").show();$(".cat_login_admin").hide()});$(document).on("click",".changeicon_admin",function(){$(".cat_login_user").hide();$(".cat_login_admin").show()});$(document).on("click","#user_login_botton",function(){var a=$.md5("https://"+document.domain),c=$(".api_qqnick").val(),b=$(".api_qqname").val(),e=$(".api_address").val(),f=new Date;f.setTime(f.getTime()+252E5);document.cookie=a+"__typecho_remember_author\x3d"+encodeURI(c)+";path\x3d/;expires\x3d"+f.toGMTString()+"; domain\x3d."+document.domain;document.cookie=a+"__typecho_remember_mail\x3d"+encodeURI(b)+";path\x3d/;expires\x3d"+f.toGMTString()+"; domain\x3d."+document.domain;document.cookie=a+"__typecho_remember_url\x3d"+encodeURI(e)+";path\x3d/;expires\x3d"+f.toGMTString()+"; domain\x3d."+document.domain;$("#cat_tanchuang_off").click();pjax.loadUrl(window.location.href)});$(document).on("click",".user_loginout",function(){var a=$.md5("https://"+document.domain);deleteCookie(a+"__typecho_remember_author","."+document.domain,"/");deleteCookie(a+"__typecho_remember_mail","."+document.domain,"/");deleteCookie(a+"__typecho_remember_url","."+document.domain,"/");$("#cat_tanchuang_off").click();pjax.loadUrl(window.location.href)});$(document).on("click",".search .submit",function(){var a=$(".search input").val(),c=getCookie("search_keys");document.cookie=""!=c&&null!=c?"search_keys\x3d"+a+","+c+";path\x3d/":"search_keys\x3d"+a+";path\x3d/"});$(document).on("click",".cat_guidang_years .cat_guidang_year",function(){$(".cat_guidang_years .cat_guidang_year").removeClass("anniu_on").removeClass("anniu_on_event");var a=$(this).attr("year_id");$(this).addClass("anniu_on").addClass("anniu_on_event");$(".cat_guidang_posts [year_id]").hide();$('.cat_guidang_posts [year_id*\x3d"'+a+'"]').show()});$(document).on("click","meting-js",function(){$(this).find(".aplayer-icon-play svg").hasClass("pause")?($("meting-js .aplayer-body .aplayer-pic").removeClass("zhengzhuan"),$(this).find(".aplayer-pic").addClass("zhengzhuan")):$(this).find(".aplayer-pic").removeClass("zhengzhuan")});function imageToBlob(a){return new Promise(function(c){var b=new Image;b.crossOrigin="Anonymous";b.src=a;b.onload=function(){var a=document.createElement("canvas"),b=a.getContext("2d");a.width=this.naturalWidth;a.height=this.naturalHeight;b.drawImage(this,0,0);a.toBlob(function(a){c(a);jbox_alert("green","\u56fe\u7247\u590d\u5236\u6210\u529f")},"image/png",.75)};b.onerror=function(){jbox_alert("red","\u56fe\u7247\u590d\u5236\u5931\u8d25\uff0c\u8bf7\u4f7f\u7528\u6d4f\u89c8\u5668\u539f\u751f\u83dc\u5355\u590d\u5236")}})}$(document).on("contextmenu",function(a){if(0<$("#cat_menu").length&&!a.ctrlKey){a.preventDefault();var c=document.getElementById("cat_menu"),b=window.pageXOffset||document.documentElement.scrollLeft,e=window.pageYOffset||document.documentElement.scrollTop,f=a.clientX+b,g=a.clientY+e;c.style.left=f+"px";c.style.top=g+"px";c.style.display="block";setTimeout(function(){var a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,h=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=c.offsetWidth,k=c.offsetHeight;f+d>a+b-20&&(c.style.left=a+b-d-20+"px");g+k>h+e-20&&(c.style.top=h+e-k-20+"px")},0);$("#cat_menu ul:not(.show)").hide();$("#cat_menu ul.default").show();if(""!==window.getSelection().toString())$("#cat_menu ul:not(.show)").hide(),$("#cat_menu ul.text").show(),$("#cat_menu ul.text.icons").css("display","flex");else if("IMG"===a.target.tagName)$("#cat_menu ul:not(.show)").hide(),$("#cat_menu ul.image").show(),$(".copyImg").off("click").on("click",function(){jbox_alert("blue","\u6b63\u5728\u5c1d\u8bd5\u590d\u5236\u56fe\u7247");var b=imageToBlob(a.target.src),b=new ClipboardItem({"image/png":b});navigator.clipboard.write([b])}),$(".copyImgAddr").off("click").on("click",function(){var b=a.target;if(b){var b=b.getAttribute("src"),c=document.createElement("textarea");c.value=b;document.body.appendChild(c);c.select();document.execCommand("copy");document.body.removeChild(c)}}),$(".goBaiduImg").off("click").on("click",function(){var b="https://graph.baidu.com/details?isfromtusoupc\x3d1\x26tn\x3dpc\x26carousel\x3d0\x26promotion_name\x3dpc_image_shituindex\x26image\x3d"+encodeURIComponent(a.target.src);window.open(b)});else if("A"===a.target.tagName){$("#cat_menu ul:not(.show)").hide();$("#cat_menu ul.link").show();var d=a.target;$(".copyLinkName").off("click").on("click",function(){if(d){var a=d.innerText,a=a.replace(/\s/g,""),b=document.createElement("textarea");b.value=a;document.body.appendChild(b);b.select();document.execCommand("copy");document.body.removeChild(b);d=null}});$(".copyLinkAddr").off("click").on("click",function(){if(d){var a=d.getAttribute("href"),b=document.createElement("textarea");b.value=a;document.body.appendChild(b);b.select();document.execCommand("copy");document.body.removeChild(b);d=null}});$(".goLinkAddr").off("click").on("click",function(){d&&(d.click(),d=null)});$(".gotoLinkAddr").off("click").on("click",function(){if(d){var a=d.getAttribute("href");window.open(a,"_blank");d=null}})}}});$(document).on("click scroll",function(){0<$("#cat_menu").length&&(document.getElementById("cat_menu").style.display="none",$("#cat_menu ul:not(.show)").hide())});$(".user_avatar").hover(function(){$(".end_block").css("height","7rem");$(".end_left").hide();$(".end_websiteinfo").show().css("display","flex")},function(){$(".end_block").css("height","4.5rem");$(".end_left").show().css("display","flex");$(".end_websiteinfo").hide()});$(".ToMusic").one("mouseenter",function(){var a=$(this).attr("music_type"),c=$.trim($(this).attr("music_id")),b;"netease_single"==a&&(b='\x3cmeting-js server\x3d"netease" type\x3d"song" id\x3d"'+c+'"\x3e\x3c/meting-js\x3e');"qq_single"==a&&(b='\x3cmeting-js auto\x3d"https://y.qq.com/n/yqq/song/'+c+'.html"\x3e\x3c/meting-js\x3e');"netease_list"==a&&(b='\x3cmeting-js server\x3d"netease" type\x3d"playlist" id\x3d"'+c+'"\x3e\x3c/meting-js\x3e');"qq_list"==a&&(b='\x3cmeting-js auto\x3d"https://y.qq.com/n/yqq/playlist/'+c+'.html"\x3e\x3c/meting-js\x3e');"qq_album"==a&&(b='\x3cmeting-js auto\x3d"https://y.qq.com/n/yqq/album/'+c+'.html"\x3e\x3c/meting-js\x3e');$(".endpopup_musiclist").append(b)});$(".ToMusic").hover(function(){$(".ToMusic").addClass("anniu_on");setTimeout(function(){$(".end_block .user_avatar .avatar").css("padding","0.1rem");$(".end_block .user_avatar .avatar").css({width:"2rem",height:"2rem"});$(".end_block .endmenu_word").text("\u97f3\u4e50").css("opacity","1")},250)},function(){$(".ToMusic").removeClass("anniu_on");setTimeout(function(){$(".end_block .user_avatar .avatar").css("padding","0.3rem");$(".end_block .user_avatar .avatar").css({width:"5rem",height:"5rem"});$(".end_block .endmenu_word").css("opacity","0")},250);$(".endpopup_musiclist .aplayer-button").hasClass("aplayer-pause")?$(".ToMusic i").addClass("zhengzhuan"):$(".ToMusic i").removeClass("zhengzhuan")});$(".ToPaint").hover(function(){$(".ToPaint").addClass("anniu_on");setTimeout(function(){$(".end_block .user_avatar .avatar").css("padding","0.1rem");$(".end_block .user_avatar .avatar").css({width:"2rem",height:"2rem"});$(".end_block .endmenu_word").text("\u98ce\u683c").css("opacity","1")},250)},function(){$(".ToPaint").removeClass("anniu_on");setTimeout(function(){$(".end_block .user_avatar .avatar").css("padding","0.3rem");$(".end_block .user_avatar .avatar").css({width:"5rem",height:"5rem"});$(".end_block .endmenu_word").css("opacity","0")},250)});$(".endpopup_paint [paint*\x3dPaint_]").click(function(){$(".endpopup_paint [paint*\x3dPaint_]").removeClass("anniu_on");$(this).addClass("anniu_on");var a=$(this).attr("paint");$("html").removeClass();$("html").addClass(a);var c=new Date;c.setTime(c.getTime()+108E5);document.cookie="night\x3d"+a+";path\x3d/;expires\x3d"+c.toGMTString()});$(window).resize(function(){var a=$(".cat_mainmenu_out").height()+3;$(".cat_mainmenu_out .item .mainmenu_nav_child").css("top",a);aside_last_part_px()});$(function(){swiper_item();cat_pagination_all();fanyi_choose();$("div[id*\x3djBox]").hide();new jBox("Tooltip",{attach:"[title]",theme:"TooltipDark"});aside_last_part_px();var a=$(".cat_mainmenu_out").height()+3;$(".cat_mainmenu_out .item .mainmenu_nav_child").css("top",a);a=$(".end_block").outerHeight()+3;$(".endpopup_musiclist").css("bottom",a);$(".endpopup_paint").css("bottom",a);a=$("html").attr("class");$(".endpopup_paint [paint\x3d"+a+"]").addClass("anniu_on")});$(function(){$(".pjax_loading").fadeOut(500,function(){$(this).hide()})});